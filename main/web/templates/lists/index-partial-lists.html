{% from "macros/card.html" import simple_card, card_body, card_footer %}

{% for list in lists_list %}
    {% call simple_card() %}
        {% call card_body(title=list.title) %}
            <h6>Description</h6>
            <p>{{ list.description }}</p>

            <h6>Users with Access</h6>
            <ul class="list-group border">
                {% for account in list.accounts %}
                    <li class="list-group-item d-flex">
                        <span class="my-auto">
                            {{ account.name }}
                        </span>
                        <button class="btn btn-sm btn-outline-danger ms-auto">
                            <i class="icon-trash"></i>
                        </button>
                    </li>
                {% endfor %}
            </ul>
            <button class="btn btn-sm btn-info mt-2 d-flex">
                <i class="icon-plus my-auto"></i>
                <span class="my-auto ms-1">
                    Invite a User
                </span>
            </button>
        {% endcall %}
        {% call card_footer("d-flex") %}
            <a href="{{ url_for("lists.edit", list_id=list.list_id) }}" class="btn btn-secondary me-auto">
                Edit
            </a>
            <button class="btn btn-danger"
                hx-confirm="Are you sure you want to delete this list?"
                hx-delete="{{ url_for("lists.delete", list_id=list.list_id) }}"
                hx-target="#lists-list"
           >
                Delete
            </button>
        {% endcall %}
    {% endcall %}
{% endfor %}
